{{ $postSlug := .File.ContentBaseName }}

<div class="comments-section">
    <h3>Comments</h3>

    <div id="comments-container" data-post-slug="{{ $postSlug }}">
        <!-- Comments will be loaded here -->
        <p class="loading-text">Loading comments...</p>
    </div>

    <div class="comment-form">
        <h4>Leave a comment</h4>
        <form id="comment-form">
            <input type="hidden" id="post-slug" value="{{ $postSlug }}" />

            <div class="form-group">
                <label for="author-name">Name *</label>
                <input type="text" id="author-name" required />
            </div>

            <div class="form-group">
                <label for="author-email"
                    >Email (optional, not displayed)</label
                >
                <input type="email" id="author-email" />
            </div>

            <div class="form-group">
                <label for="comment-content">Comment *</label>
                <textarea id="comment-content" rows="4" required></textarea>
            </div>

            <button type="submit">Submit Comment</button>
        </form>
    </div>

    <div class="comment-notification" id="comment-notification"></div>
</div>

<!-- Load Supabase JS library -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- Your comment system JavaScript -->
<script src="/js/comment.js"></script>
