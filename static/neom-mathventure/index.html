<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Neom Mathventure</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/styles.css" />
    <meta name="description"
        content="A mathematics learning game with Kerala's cultural elements and trilingual support" />
</head>

<body>
    <!-- Language Switcher -->
    <div class="language-switcher" aria-label="Language Selection">
        <button class="lang-btn active" data-lang="malayalam" aria-label="Malayalam">à´®à´²à´¯à´¾à´³à´‚</button>
        <button class="lang-btn" data-lang="manglish" aria-label="Manglish">Manglish</button>
        <button class="lang-btn" data-lang="english" aria-label="English">English</button>
        <button id="audio-toggle" class="lang-btn" aria-label="Toggle Audio">ðŸ”Š</button>
        <button id="music-toggle" class="lang-btn" aria-label="Toggle Music">ðŸŽµ</button>
    </div>

    <div class="game-container">
        <div class="game-card">
            <div class="mascots-container">
                <!-- Thangamma (Tapir) - BIPEDAL CUTE VERSION -->
                <div class="mascot-wrapper tapir-wrapper">
                    <svg class="mascot tapir" viewBox="0 0 300 400" aria-label="Thangamma the Tapir">
                        <!-- Speech Bubble -->
                        <g class="speech-bubble" opacity="0">
                            <path
                                d="M20 40 L280 40 Q320 40 320 80 L320 160 Q320 200 280 200 L20 200 Q-20 200 -20 160 L-20 80 Q-20 40 20 40Z"
                                fill="white" stroke="#21618C" stroke-width="3" />
                            <path d="M150 200 L130 230 L170 200" fill="white" stroke="#21618C" stroke-width="3" />
                            <text x="150" y="120" text-anchor="middle" class="speech-text primary-text" fill="#21618C"
                                font-size="24">Hello!</text>
                        </g>

                        <!-- Legs (Back) -->
                        <rect x="110" y="330" width="25" height="50" rx="10" fill="#363636" />
                        <rect x="165" y="330" width="25" height="50" rx="10" fill="#363636" />

                        <!-- Body (Vertical) -->
                        <ellipse cx="150" cy="270" rx="70" ry="85" fill="#4A4A4A" />
                        <ellipse cx="150" cy="270" rx="50" ry="65" fill="#5A5A5A" /> <!-- Lighter belly -->

                        <!-- Mundu (Kasavu) -->
                        <path d="M80 300 Q150 310 220 300 L220 350 Q150 360 80 350 Z" fill="#FFF8DC" />
                        <path d="M80 340 Q150 350 220 340 L220 350 Q150 360 80 350 Z" fill="#FFD700" />
                        <!-- Gold Border -->

                        <!-- Arms -->
                        <ellipse cx="90" cy="260" rx="15" ry="35" fill="#363636" transform="rotate(20 90 260)" />
                        <ellipse cx="210" cy="260" rx="15" ry="35" fill="#363636" transform="rotate(-20 210 260)" />

                        <!-- Head -->
                        <circle cx="150" cy="190" r="55" fill="#4A4A4A" />

                        <!-- Ears -->
                        <ellipse cx="100" cy="160" rx="12" ry="18" fill="#363636" transform="rotate(-20 100 160)" />
                        <circle cx="100" cy="150" r="5" fill="white" /> <!-- White Tip -->
                        <ellipse cx="200" cy="160" rx="12" ry="18" fill="#363636" transform="rotate(20 200 160)" />
                        <circle cx="200" cy="150" r="5" fill="white" /> <!-- White Tip -->

                        <!-- Snout/Trunk -->
                        <path d="M135 210 Q150 280 165 210" fill="#5A5A5A" />
                        <ellipse cx="150" cy="245" rx="15" ry="10" fill="#363636" /> <!-- Nose tip -->

                        <!-- Eyes - Big and Sparkly -->
                        <circle cx="130" cy="190" r="10" fill="black" />
                        <circle cx="127" cy="187" r="3" fill="white" />
                        <circle cx="170" cy="190" r="10" fill="black" />
                        <circle cx="167" cy="187" r="3" fill="white" />

                        <!-- Blush -->
                        <ellipse cx="120" cy="210" rx="10" ry="6" fill="#FFB6C1" opacity="0.6" />
                        <ellipse cx="180" cy="210" rx="10" ry="6" fill="#FFB6C1" opacity="0.6" />

                        <text x="150" y="390" text-anchor="middle" fill="#21618C" font-family="Comic Neue"
                            font-size="32" font-weight="bold" class="mascot-name">Thangamma</text>
                    </svg>
                </div>

                <!-- Kannappan (Capybara) -->
                <div class="mascot-wrapper capybara-wrapper">
                    <svg class="mascot capybara" viewBox="0 0 300 400" aria-label="Kannappan the Capybara">
                        <!-- Speech Bubble -->
                        <g class="speech-bubble" opacity="0">
                            <path
                                d="M20 40 L280 40 Q320 40 320 80 L320 160 Q320 200 280 200 L20 200 Q-20 200 -20 160 L-20 80 Q-20 40 20 40Z"
                                fill="white" stroke="#21618C" stroke-width="3" />
                            <path d="M150 200 L130 230 L170 200" fill="white" stroke="#21618C" stroke-width="3" />
                            <text x="150" y="120" text-anchor="middle" class="speech-text primary-text" fill="#21618C"
                                font-size="24">Hi!</text>
                        </g>

                        <!-- Body -->
                        <ellipse cx="150" cy="280" rx="75" ry="60" fill="#8B4513" />

                        <!-- Mundu (Kasavu) -->
                        <path d="M85 280 Q150 290 215 280 L215 340 Q150 350 85 340 Z" fill="#FFF8DC" />
                        <path d="M85 330 Q150 340 215 330 L215 340 Q150 350 85 340 Z" fill="#FFD700" />
                        <!-- Gold Border -->

                        <!-- Legs -->
                        <rect x="100" y="340" width="25" ry="8" height="20" fill="#6B3410" />
                        <rect x="175" y="340" width="25" ry="8" height="20" fill="#6B3410" />

                        <!-- Head -->
                        <circle cx="150" cy="230" r="53" fill="#8B4513" />

                        <!-- Tilak -->
                        <path d="M147 190 L153 190 L150 205 Z" fill="#FF0000" />

                        <!-- Mouth -->
                        <path d="M125 245 Q150 260 175 245" stroke="#2C1810" stroke-width="3" fill="none" />

                        <!-- Eyes -->
                        <circle cx="127" cy="215" r="9" fill="#2C1810" />
                        <circle cx="172" cy="215" r="9" fill="#2C1810" />
                        <circle cx="129" cy="213" r="3" fill="white" />
                        <circle cx="174" cy="213" r="3" fill="white" />

                        <!-- Ears -->
                        <circle cx="112" cy="190" r="12" fill="#6B3410" />
                        <circle cx="187" cy="190" r="12" fill="#6B3410" />

                        <text x="150" y="380" text-anchor="middle" fill="#21618C" font-family="Comic Neue"
                            font-size="32" font-weight="bold" class="mascot-name">Kannappan</text>
                    </svg>
                </div>
            </div>

            <!-- Screens -->

            <!-- Welcome Screen -->
            <div id="welcome-screen" class="screen active">
                <h1 class="game-title">Neom Mathventure</h1>
                <div class="content-box">
                    <p class="intro-text">Welcome to the world of math adventures!</p>
                    <button id="start-btn" class="primary-button">Let's Begin! ðŸš€</button>
                </div>
            </div>

            <!-- Game Screen -->
            <div id="game-screen" class="screen hidden">
                <div class="stats-bar">
                    <div class="stat-item"><span class="label">Time:</span> <span id="time-display">30</span>s</div>
                    <div class="stat-item"><span class="label">Score:</span> <span id="score-display">0</span></div>
                    <div class="stat-item"><span class="label">High Score:</span> <span id="highscore-display">0</span>
                    </div>
                </div>

                <div class="game-area">
                    <div class="level-display">Level <span id="level-display">1</span></div>
                    <div id="question-display" class="question">Ready?</div>

                    <div class="input-area">
                        <input type="number" id="answer-input" placeholder="?" autocomplete="off" />
                        <button id="check-btn" class="primary-button">Check! ðŸŽ¯</button>
                    </div>

                    <div id="feedback-message" class="message"></div>
                </div>
            </div>

            <!-- Game Over Screen -->
            <div id="game-over-screen" class="screen hidden">
                <h2 class="game-title">Game Over!</h2>
                <div class="content-box">
                    <p>Final Score: <span id="final-score">0</span></p>
                    <p>Accuracy: <span id="final-accuracy">0</span>%</p>
                    <button id="restart-btn" class="primary-button">Play Again ðŸ”„</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        window.NEOM_BASE_PATH = window.location.pathname.includes("/neom-mathventure") ? "/neom-mathventure" : "";
    </script>
    <script type="module" src="js/index.js?v=2"></script>
</body>

</html>